{"version":3,"sources":["webpack:///webpack/bootstrap 8dc15f0a409c84f91c7e","webpack:///./src/js/main.js","webpack:///./src/js/Parser.js","webpack:///./src/js/types/Operator.js","webpack:///./src/js/types/SummOperator.js","webpack:///./src/js/types/DiffOperator.js","webpack:///./src/js/types/IntegerType.js","webpack:///./src/js/types/Type.js","webpack:///./src/js/Builder.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AACA;;;;;;AAEA,UAAS,aAAT,CAAuB,QAAvB,EAAiC,gBAAjC,CAAkD,OAAlD,EAA2D,YAAY;AACrE,OAAI,OAAO,SAAS,cAAT,CAAwB,YAAxB,EAAsC,KAAtC;;AAD0D,OAGjE,SAAS,qBAAW,IAAX,CAAT,CAHiE;AAIrE,OAAI,SAAS,OAAO,SAAP,EAAT,CAJiE;AAKrE,OAAI,UAAU,sBAAY,MAAZ,CAAV;;;;;;;AALiE,EAAZ,CAA3D,C;;;;;;;;;;;;;;ACHA;;;;AACA;;;;;;;;;;KAEqB;AAEpB,YAFoB,MAEpB,CAAa,UAAb,EAAyB;;;2BAFL,QAEK;;AACtB,UAAK,IAAL,GAAY,UAAZ,CADsB;AAEtB,UAAK,aAAL,uDACG,sBAAY,IAAZ,EAAmB,sBAAY,OAAZ,kCACnB,mBAAS,IAAT,EAAgB,mBAAS,OAAT,6CACR,wBAHX,CAFsB;;AAQtB,UAAK,MAAL,GAAc,KAAK,MAAL,EAAd,CARsB;IAAzB;;gBAFoB;;8BAaT;AACR,WAAI,WAAW,EAAX,CADI;;AAGR,cAAO,KAAK,IAAL,CAAU,MAAV,EAAkB;AACvB,aAAI;AACF,oBAAS,IAAT,CAAc,KAAK,cAAL,EAAd,EADE;UAAJ,CAEE,OAAO,CAAP,EAAU;AACV,mBAAQ,GAAR,CAAY,EAAE,UAAF,EAAZ,EADU;AAEV,iBAFU;UAAV;QAHJ;;AASA,cAAO,QAAP,CAZQ;;;;sCAeQ;AAChB,WAAI,eAAe,KAAK,aAAL;WACf,WAAW,IAAX;WACA,QAAQ,IAAR,CAHY;;AAKhB,YAAK,IAAI,IAAJ,IAAY,YAAjB,EAA+B;AAC7B,iBAAQ,aAAa,IAAb,EAAmB,IAAnB,CAAwB,KAAK,IAAL,CAAU,CAAV,CAAxB,CAAR,CAD6B;AAE7B,aAAI,KAAJ,EAAW;AACT,sBAAW,IAAX,CADS;AAET,iBAFS;UAAX,MAGO;AACL,sBAAW,IAAX,CADK;UAHP;QAFF;;AAUA,WAAI,CAAE,QAAF,EAAY;AACd,eAAM,IAAI,KAAJ,sCAA6C,KAAK,IAAL,CAAU,CAAV,OAA7C,CAAN,CADc;QAAhB;;AAIA,eAAQ,aAAa,QAAb,EAAuB,IAAvB,CAA4B,KAAK,IAAL,CAA5B,CAAuC,CAAvC,CAAR,CAnBgB;;AAqBhB,WAAI,KAAJ,EAAW;AACT,cAAK,IAAL,GAAY,KAAK,IAAL,CAAU,KAAV,CAAgB,MAAM,MAAN,CAA5B,CADS;;AAGT,gBAAO;AACL,iBAAM,QAAN;AACA,kBAAO,KAAP;UAFF,CAHS;QAAX;;;;iCAUW;AACZ,cAAO,KAAK,MAAL,CADK;;;;UA3DM;;;;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;KAEqB;AAEnB,YAFmB,QAEnB,CAAa,IAAb,EAAmB;2BAFA,UAEA;;AACf,UAAK,KAAL,GAAa,IAAb,CADe;IAAnB;;gBAFmB;;mCAMJ;AACb,WAAI,KAAK,KAAL,KAAe,GAAf,EAAoB;AACtB,uCADsB;QAAxB,MAEO,IAAI,KAAK,KAAL,KAAe,GAAf,EAAoB;AAC7B,uCAD6B;QAAxB;;;;8BAaC;AACR,cAAO,KAAK,UAAL,EAAP,CADQ;;;;yBARS;AACjB,cAAO,YAAP,CADiB;;;;yBAIG;AACpB,cAAO,YAAP;SADoB;;;;UAlBH;;;;;;;;;;;;;;;;;ACHrB;;;;;;;;KAEqB;AAEnB,YAFmB,YAEnB,GAAe;2BAFI,cAEJ;;AACX,UAAK,QAAL,GAAgB,CAAhB,CADW;AAEX,UAAK,WAAL,GAAmB,IAAnB,CAFW;AAGX,UAAK,YAAL,GAAoB,IAApB,CAHW;IAAf;;gBAFmB;;kCAYL;AACZ,cAAO,SAAS,KAAK,WAAL,CAAT,GAA6B,SAAS,KAAK,YAAL,CAAtC,CADK;;;;iCAID;AACX,cAAO,KAAK,UAAL,EAAP,CADW;;;;yBARM;AACjB,cAAO,QAAP,CADiB;;;;UARA;;;;;;;;;;;;;;;;;ACFrB;;;;;;;;KAEqB;AAEnB,YAFmB,YAEnB,GAAe;2BAFI,cAEJ;;AACX,UAAK,QAAL,GAAgB,CAAhB,CADW;AAEX,UAAK,WAAL,GAAmB,IAAnB,CAFW;AAGX,UAAK,YAAL,GAAoB,IAApB,CAHW;IAAf;;gBAFmB;;kCAYL;AACZ,cAAO,KAAK,WAAL,GAAmB,KAAK,YAAL,CADd;;;;iCAID;AACX,cAAO,KAAK,UAAL,EAAP,CADW;;;;yBARM;AACjB,cAAO,QAAP,CADiB;;;;UARA;;;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;KAEqB;;;AAEnB,YAFmB,WAEnB,CAAa,KAAb,EAAoB;2BAFD,aAEC;;wEAFD,yBAEC;;AAEhB,WAAK,MAAL,GAAc,KAAd,CAFgB;;IAApB;;gBAFmB;;yBAOG;AACpB,cAAO,SAAP;SADoB;;;;yBAIH;AACjB,cAAO,WAAP,CADiB;;;;UAXA;;;;;;;;;;;;;;;;;;;KCFA;AAEnB,YAFmB,QAEnB,GAAe;2BAFI,UAEJ;IAAf;;gBAFmB;;8BAIT;AACR,cAAO,KAAK,MAAL,EAAP,CADQ;;;;yBAIS;AACjB,cAAO,QAAP,CADiB;;;;UARA;;;;;;;;;;;;;;;;;ACArB;;;;;;;;KAEqB;AAEnB,YAFmB,OAEnB,CAAa,QAAb,EAAuB;2BAFJ,SAEI;;AACrB,UAAK,KAAL,GAAa,QAAb,CADqB;AAErB,UAAK,KAAL,GAAa,EAAb,CAFqB;AAGrB,UAAK,YAAL,GAHqB;AAIrB,UAAK,YAAL,GAJqB;AAKrB,UAAK,QAAL,CAAc,KAAK,KAAL,CAAd,CALqB;IAAvB;;gBAFmB;;oCAUH;;;AACd,YAAK,KAAL,CAAW,OAAX,CAAoB,UAAC,OAAD,EAAU,KAAV,EAAoB;AACtC,aAAI,QAAQ,IAAR,KAAiB,YAAjB,EAA+B;AACjC,iBAAK,KAAL,CAAW,IAAX,CAAgB;AACd,mBAAM,MAAK,KAAL,CAAW,QAAQ,CAAR,CAAjB;AACA,uBAAU,OAAV;AACA,oBAAO,MAAK,KAAL,CAAW,QAAQ,CAAR,CAAlB;YAHF,EADiC;AAMjC,eAAI,MAAK,KAAL,CAAW,MAAK,KAAL,CAAW,MAAX,GAAoB,CAApB,CAAf,EAAuC;AACrC,mBAAK,KAAL,CAAW,MAAK,KAAL,CAAW,MAAX,GAAoB,CAApB,CAAX,CAAkC,IAAlC,GAAyC,MAAzC,CADqC;YAAvC;UANF;QADkB,CAApB,CADc;;;;8BAeN,MAAM;;;AAEd,WAAI,wBAAJ,CAFc;;AAId,YAAK,KAAL,CAAY,UAAC,OAAD,EAAU,KAAV,EAAoB;;AAE9B,aAAI,WAAW,KAAK,QAAQ,CAAR,CAAhB;aACA,YAAY,KAAK,QAAQ,CAAR,CAAjB,CAH0B;;AAK9B,aAAI,CAAE,QAAQ,IAAR,EAAe;AACnB,6BAAkB,OAAK,mBAAL,CAAyB,OAAzB,CAAlB,CADmB;;AAGnB,eAAI,YAAY,SAAS,IAAT,KAAkB,OAAlB,EAA2B;AACzC,oBAAO,KAAK,QAAQ,CAAR,CAAL,CAAgB,IAAhB,CADkC;AAEzC,kBAAK,QAAQ,CAAR,CAAL,CAAgB,KAAhB,CAAsB,KAAtB,GAA8B,eAA9B,CAFyC;YAA3C,MAGO,IAAI,aAAa,UAAU,IAAV,KAAmB,MAAnB,EAA2B;AACjD,oBAAO,KAAK,QAAQ,CAAR,CAAL,CAAgB,IAAhB,CAD0C;AAEjD,kBAAK,QAAQ,CAAR,CAAL,CAAgB,IAAhB,CAAqB,KAArB,GAA6B,eAA7B,CAFiD;YAA5C;;AAKP,kBAAO,KAAK,MAAL,CAAa,UAAC,IAAD,EAAO,SAAP,EAAqB;AACvC,oBAAO,cAAc,KAAd,CADgC;YAArB,CAApB,CAXmB;;AAenB,kBAAO,KAAP,CAfmB;UAArB;QALU,CAAZ,CAJc;;AA4Bd,WAAI,KAAK,MAAL,IAAe,CAAf,EAAkB;AACpB,cAAK,QAAL,CAAc,IAAd,EADoB;QAAtB,MAEO;AACL,iBAAQ,GAAR,CAAY,eAAZ,EADK;AAEL,gBAAO,IAAP,CAFK;QAFP;;;;yCASmB,SAAS;AAC5B,WAAI,gBAAgB,uBAAa,QAAQ,QAAR,CAAiB,KAAjB,CAAb,CAAqC,WAArC,EAAhB,CADwB;AAE5B,WAAI,WAAW,IAAI,aAAJ,EAAX,CAFwB;AAG5B,gBAAS,WAAT,GAAuB,QAAQ,IAAR,CAAa,KAAb,CAHK;AAI5B,gBAAS,YAAT,GAAwB,QAAQ,KAAR,CAAc,KAAd,CAJI;AAK5B,cAAO,SAAS,SAAT,EAAP,CAL4B;;;;oCAQd;AACd,YAAK,KAAL,GAAa,KAAK,KAAL,CAAW,MAAX,CAAmB,UAAC,OAAD,EAAa;AAC3C,gBAAO,QAAQ,IAAR,KAAiB,SAAjB,CADoC;QAAb,CAAhC,CADc;;;;UAtEG","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8dc15f0a409c84f91c7e\n **/","import Parser from './Parser';\r\nimport Builder from './Builder';\r\n\r\ndocument.querySelector('#start').addEventListener('click', function () {\r\n  let expr = document.getElementById('expression').value;\r\n  //console.log(expr);\r\n  let parser = new Parser(expr);\r\n  let result = parser.getResult();\r\n  let builder = new Builder(result);\r\n\r\n  // let elem = document.getElementById('result');\r\n  // elem.innerHTML = '';\r\n  // result.forEach( (obj) => {\r\n  //   elem.innerHTML += obj.type + '<br>';\r\n  // });\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/main.js\n **/","import Operator from './types/Operator';\r\nimport IntegerType from './types/IntegerType';\r\n\r\nexport default class Parser {\r\n\r\n\tconstructor (expression) {\r\n    this.expr = expression;\r\n    this._literalTypes = {\r\n      [IntegerType.type]: IntegerType.pattern,\r\n      [Operator.type]: Operator.pattern,\r\n      T_SPACE: /[\\s]+/\r\n    };\r\n\r\n    this.result = this._parse();\r\n  }\r\n\r\n  _parse () {\r\n    let literals = [];\r\n\r\n    while (this.expr.length) {\r\n      try {\r\n        literals.push(this._defineLiteral());\r\n      } catch (e) {\r\n        console.log(e.getMessage());\r\n        break;\r\n      }\r\n    }\r\n\r\n   \treturn literals;\r\n  }\r\n\r\n  _defineLiteral () {\r\n    let literalTypes = this._literalTypes,\r\n        nextType = null,\r\n        found = null;\r\n\r\n    for (let type in literalTypes) {\r\n      found = literalTypes[type].exec(this.expr[0]);\r\n      if (found) {\r\n        nextType = type;\r\n        break;\r\n      } else {\r\n        nextType = null;\r\n      }\r\n    }\r\n\r\n    if (! nextType) {\r\n      throw new Error(`Parse Error: Unexpected symbol \"${this.expr[0]}\"`);\r\n    }\r\n\r\n    found = literalTypes[nextType].exec(this.expr)[0];\r\n\r\n    if (found) {\r\n      this.expr = this.expr.slice(found.length);\r\n\r\n      return {\r\n        type: nextType,\r\n        value: found\r\n      };\r\n    }\r\n  }\r\n\r\n  getResult () {\r\n  \treturn this.result;\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/Parser.js\n **/","import SummOperator from './SummOperator';\r\nimport DiffOperator from './DiffOperator';\r\n\r\nexport default class Operator {\r\n\r\n  constructor (type) {\r\n      this._type = type;\r\n  }\r\n\r\n  getOperator () {\r\n    if (this._type === '+') {\r\n      return SummOperator;\r\n    } else if (this._type === '-') {\r\n      return DiffOperator;\r\n    }\r\n  }\r\n\r\n  static get type () {\r\n    return 'O_OPERATOR';\r\n  }\r\n\r\n  static get pattern () {\r\n    return /[+\\-\\/*]+/;\r\n  }\r\n\r\n  result () {\r\n    return this._calculate();\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/types/Operator.js\n **/","import Operator from './Operator';\r\n\r\nexport default class SummOperator {\r\n\r\n  constructor () {\r\n      this.priority = 0;\r\n      this.leftOperand = null;\r\n      this.rightOperand = null;\r\n  }\r\n\r\n  static get type () {\r\n    return 'O_SUMM';\r\n  }\r\n\r\n  _calculate () {\r\n    return parseInt(this.leftOperand) + parseInt(this.rightOperand);\r\n  }\r\n\r\n  getResult () {\r\n    return this._calculate();\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/types/SummOperator.js\n **/","import Operator from './Operator';\r\n\r\nexport default class DiffOperator {\r\n\r\n  constructor () {\r\n      this.priority = 0;\r\n      this.leftOperand = null;\r\n      this.rightOperand = null;\r\n  }\r\n\r\n  static get type () {\r\n    return 'O_DIFF';\r\n  }\r\n\r\n  _calculate () {\r\n    return this.leftOperand - this.rightOperand;\r\n  }\r\n\r\n  getResult () {\r\n    return this._calculate();\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/types/DiffOperator.js\n **/","import Type from './Type';\r\n\r\nexport default class IntegerType extends Type {\r\n\r\n  constructor (value) {\r\n      super();\r\n      this._value = value;\r\n  }\r\n\r\n  static get pattern () {\r\n    return /[0-9]+/;\r\n  }\r\n\r\n  static get type () {\r\n    return 'T_INTEGER';\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/types/IntegerType.js\n **/","export default class Operator {\r\n\r\n  constructor () {}\r\n\r\n  result () {\r\n    return this._value();\r\n  }\r\n\r\n  static get type () {\r\n    return 'T_TYPE';\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/types/Type.js\n **/","import Operator from './types/Operator';\r\n\r\nexport default class Builder {\r\n\r\n  constructor (typeList) {\r\n    this._list = typeList;\r\n    this._tree = [];\r\n    this._stripSpaces();\r\n    this._setOperands();\r\n    this._compute(this._tree);\r\n  }\r\n\r\n  _setOperands () {\r\n    this._list.forEach( (literal, index) => {\r\n      if (literal.type === 'O_OPERATOR') {\r\n        this._tree.push({\r\n          left: this._list[index - 1],\r\n          operator: literal,\r\n          right: this._list[index + 1]\r\n        });\r\n        if (this._tree[this._tree.length - 2]) {\r\n          this._tree[this._tree.length - 1].wait = 'left';\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  _compute (tree) {\r\n\r\n    let operationResult;\r\n\r\n    tree.every( (command, index) => {\r\n\r\n      let leftNode = tree[index - 1],\r\n          rightNode = tree[index + 1];\r\n\r\n      if (! command.wait ) {\r\n        operationResult = this._getOperationResult(command);\r\n\r\n        if (leftNode && leftNode.wait === 'right') {\r\n          delete tree[index - 1].wait;\r\n          tree[index - 1].right.value = operationResult;\r\n        } else if (rightNode && rightNode.wait === 'left') {\r\n          delete tree[index + 1].wait;\r\n          tree[index + 1].left.value = operationResult;\r\n        }\r\n\r\n        tree = tree.filter( (node, indexNode) => {\r\n          return indexNode !== index;\r\n        });\r\n\r\n        return false;\r\n      }\r\n    });\r\n\r\n    if (tree.length >= 1) {\r\n      this._compute(tree);\r\n    } else {\r\n      console.log(operationResult);\r\n      return tree;\r\n    }\r\n\r\n  }\r\n\r\n  _getOperationResult (command) {\r\n    let TypedOperator = new Operator(command.operator.value).getOperator();\r\n    let operator = new TypedOperator();\r\n    operator.leftOperand = command.left.value;\r\n    operator.rightOperand = command.right.value;\r\n    return operator.getResult();\r\n  }\r\n\r\n  _stripSpaces () {\r\n    this._list = this._list.filter( (literal) => {\r\n      return literal.type !== 'T_SPACE';\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/Builder.js\n **/"],"sourceRoot":""}